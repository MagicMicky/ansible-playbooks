---
# Test inventory for macOS environment
# Used for testing Mac playbooks in GitHub Actions macOS runners

all:
  hosts:
    localhost:
      ansible_connection: local
      ansible_python_interpreter: /usr/bin/python3

  vars:
    # Test user settings
    ansible_user: "{{ lookup('env', 'USER') }}"

    # Machine profile for shell configuration
    machine_profile: laptop

    # Test environment dotfiles configuration
    # Override dotfiles settings to use test directory
    # Note: dotfiles_repo in vars/personal.yml is the SOURCE URL
    # dotfiles_repo_local_destination is the DESTINATION path
    dotfiles_repo: "https://github.com/MagicMicky/dotfiles.git"  # Source repo URL
    dotfiles_repo_local_destination: "{{ ansible_env.HOME }}/dotfiles-test"  # Destination path
    dotfiles_repo_version: modern-shell-2025  # Branch to checkout
    dotfiles_repo_accept_hostkey: yes  # Accept SSH host key

    # Downloads directory
    downloads: ~/.ansible-downloads/

    # Feature toggles for CI testing
    # Disable GUI/system modifications in CI
    configure_dotfiles: true
    configure_vim: false  # Skip vim setup in CI
    configure_sublime: false  # Skip Sublime Text in CI
    configure_iterm: false  # Skip iTerm2 in CI
    configure_osx: false  # Skip macOS system preferences in CI (requires sudo)
    configure_work: false  # Personal machine profile

    # Homebrew configuration
    # Install essential packages only for faster CI
    homebrew_installed_packages:
      - zsh
      - git
      - wget
      - jq

    homebrew_taps:
      - homebrew/core

    # Skip GUI apps in CI
    homebrew_cask_appdir: /Applications
    homebrew_cask_apps: []

    # Empty package managers for CI
    composer_packages: []
    gem_packages: []
    npm_packages: []
    pip_packages: []

    # No post-provision tasks in CI
    post_provision_tasks: []
