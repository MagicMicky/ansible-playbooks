---
# Starship installation tasks

- name: Install Starship (macOS)
  community.general.homebrew:
    name: starship
    state: present
  when: is_macos

- name: Check if Starship is installed (Linux)
  stat:
    path: /usr/local/bin/starship
  register: starship_binary
  when: not is_macos

- name: Install Starship (Linux)
  shell: curl -sS https://starship.rs/install.sh | sh -s -- -y
  become: yes
  when:
    - not is_macos
    - not starship_binary.stat.exists
  changed_when: true

# Note: Starship configuration is handled in configure-shell.yml
# which generates it from a template with machine-specific colors
